#post blockquote[class],
.post-content blockquote[class] {
    font-style: normal !important; /* 强制取消斜体 */
}

/* ========== “book” 类引用块 ========== */
/* 浅紫色系，用于书籍、文献等引用 */
#post blockquote.book,
.post-content blockquote.book {
    border-left: 5px solid #a9a1b0; /* 侧边颜色 */
    background-color: #f5f2ee; /* 底色 */
    border-radius: 8px;
    padding: 20px 25px;
    margin: 20px 0;
    color: #333; /* 深色文字确保可读性 */
}

/* ========== “other” 类引用块 ========== */
/* 浅绿色系，用于其他说明、提示等 */
#post blockquote.other,
.post-content blockquote.other {
    border-left: 5px solid #b48a78; /* 侧边颜色 */
    background-color: #edf0e2; /* 底色 */
    border-radius: 8px;
    padding: 20px 25px;
    margin: 20px 0;
    color: #333; /* 深色文字确保可读性 */
}

/* ========== 深色模式适配 ========== */
/* 在深色模式下，保持完全相同的颜色，但微调文字颜色以适配深背景 */
[data-theme="dark"] #post blockquote.book,
[data-theme="dark"] .post-content blockquote.book {
    border-left-color: #c3b1e1;
    background-color: #E6E6FA;
    color: #222; /* 在深色模式下，保持引用框内文字为深色 */
}

[data-theme="dark"] #post blockquote.other,
[data-theme="dark"] .post-content blockquote.other {
    border-left-color: #afe1af;
    background-color: #ecffdc;
    color: #222; /* 在深色模式下，保持引用框内文字为深色 */
}

/* ========== 极简“提示框”样式 ========== */
#post blockquote.tip,
.post-content blockquote.tip {
    /* 核心：取消所有侧边条，只保留上边框 */
    border-left: none !important;
    border-right: none !important;
    border-bottom: 1px solid #e0e0e6; /* 保留浅色底边 */
    border-top: 4px solid #4CAF50; /* 核心：醒目的上边框，绿色示例，可更改 */
    /* 背景与内边距 */
    background-color: #f8f9fa; /* 比正文稍浅的底色 */
    border-radius: 6px; /* 圆角 */
    padding: 20px 25px; /* 舒适的内边距 */
    margin: 25px 0; /* 外边距 */
    /* 文字样式 */
    color: #333; /* 正文颜色 */
    font-style: normal; /* 确保不是斜体 */
}

/* ========== 深色模式适配 ========== */
[data-theme="dark"] #post blockquote.tip,
[data-theme="dark"] .post-content blockquote.tip {
    border-top-color: #66BB6A; /* 深色模式下调整上边框颜色 */
    background-color: #1a1a1a;
    border-bottom-color: #444;
    color: #ccc;
}

/* 更新后的 .note 样式 - 缩小行距与上下边距 */
#post blockquote.note,
.post-content blockquote.note {
    border: none !important;
    background-color: rgba(141, 195, 81, 0.08); /* 保持原有的浅绿底色 */
    border-radius: 6px;
    /* 调整内边距：上方 下方 | 左侧 右侧 */
    padding: 12px 22px !important; /* 核心：改小上下内边距（原为18px 22px） */
    margin: 20px 0;
    color: #555;
    font-style: normal;
    box-shadow: inset 0 0 0 1px rgba(141, 195, 81, 0.05);
}

/* 深色模式适配 */
[data-theme="dark"] #post blockquote.note,
[data-theme="dark"] .post-content blockquote.note {
    background-color: rgba(141, 195, 81, 0.05);
    color: #bbb;
    box-shadow: inset 0 0 0 1px rgba(141, 195, 81, 0.02);
}

/* ========== 右侧浮动“说明框”样式 ========== */
/* 此样式适用于桌面端等宽屏设备 */
@media screen and (min-width: 768px) {
    #post blockquote.note.float-right,
    .post-content blockquote.note.float-right {
        /* 核心浮动属性 */
        float: right;
        clear: right; /* 防止多个浮动框重叠 */
        /* 固定宽度，给左侧正文留出空间 */
        width: 280px; /* 你可以调整这个宽度值 */
        /* 定位和间距 */
        margin: 5px 0 20px 30px !important; /* 上、右、下、左 */
        /* 视觉样式调整（保持你之前的底色、圆角等） */
        background-color: rgba(141, 195, 81, 0.08);
        border: none;
        border-radius: 6px;
        padding: 15px;
        /* 确保字体大小合适 */
        font-size: 0.9em;
        /* 防止父容器高度塌陷的hack */
        box-sizing: border-box;
    }
    /* 可选：为左侧正文区域增加一点右边距，防止文字紧贴浮动框 */
    #post,
    .post-content {
        overflow: auto; /* 触发BFC，包含浮动元素 */
    }
}

/* ========== 移动端适配：屏幕变窄时取消浮动，变回上下布局 ========== */
@media screen and (max-width: 767px) {
    #post blockquote.note.float-right,
    .post-content blockquote.note.float-right {
        float: none;
        width: auto;
        margin: 20px 0 !important; /* 恢复为上下外边距 */
    }
}

/* ========== 长文本提示框样式 - .tip-long ========== */
/* 继承 .tip 的所有基础样式，但增加底部边框 */
#post blockquote.tip-long,
.post-content blockquote.tip-long {
    /* 确保拥有 .tip 的全部基础样式 */
    border-top: 4px solid #4CAF50 !important;
    border-left: none !important;
    border-right: none !important;
    border-bottom: 4px solid #4CAF50 !important; /* 核心：增加底部边框 */
    background-color: #f8f9fa;
    border-radius: 6px;
    padding: 20px 25px;
    margin: 25px 0;
    color: #333;
    font-style: normal;
}

/* ========== 深色模式适配 ========== */
[data-theme="dark"] #post blockquote.tip-long,
[data-theme="dark"] .post-content blockquote.tip-long {
    border-top-color: #66BB6A !important;
    border-bottom-color: #66BB6A !important;
    background-color: #1a1a1a;
    color: #ccc;
}

/* 弱化文字类 .muted */
.muted {
    color: #aaa !important;
    font-size: 0.8em !important;
    font-style: normal !important;
}

/* 深色模式适配 */
[data-theme="dark"] .muted {
    color: #b0b0b0 !important;
}


/* 通用居中工具类，可用于任何文本元素 */
.ct {
    text-align: center !important;
}


/* 用于突出下方标题的章节分割线 - .line-mid (中性灰色) */
.line-mid {
    border: none;
    height: 2px;
    /* 核心修改：改为灰色渐变 */
    background: linear-gradient(to right, transparent, #aaa, transparent);
    width: 70%;
    margin: 3em auto 0.8em !important;
    border-radius: 1px;
}
/* 深色模式适配 */
[data-theme="dark"] .line-mid {
    background: linear-gradient(to right, transparent, #888, transparent);
}

/* 仅对包裹在 .indent-this-post 内的段落缩进 */
.indent-this-post p {
    text-indent: 2em;
}

.indent-this-post h1,
.indent-this-post h2,
.indent-this-post h3,
.indent-this-post h4,
.indent-this-post h5,
.indent-this-post h6 {
    text-align: center !important; /* 使用 !important 确保覆盖其他样式 */
}

/* 右对齐工具类 */
.right-al {
    text-align: right !important;
}

/*在缩进的情况下绝对居中*/
.indent-this-post p.text-center { text-align: center !important; text-indent: 0 !important; }

/* 集成式类：弱化、居中、紧凑 */
.muted-center-compact {
    /* 1. 继承 .muted 的核心样式 */
    color: #aaa !important;
    font-size: 0.8em !important;
    font-style: normal !important;

    /* 2. 实现绝对居中与重置 */
    text-align: center !important;
    display: block !important; /* 确保作为块级元素居中 */
    margin-left: auto !important;
    margin-right: auto !important;
    text-indent: 0 !important; /* 关键：强制清除任何可能的首行缩进 */

    /* 3. 缩小与上一个段落的行距（上边距） */
    margin-top: -1.75em !important; /* 可根据感觉微调，标准段落间距通常为1em或1.5em */
    margin-bottom: 1em !important; /* 保持与下一个段落的正常距离 */

    /* 可选：添加盒模型计算方式，确保稳定 */
    box-sizing: border-box !important;
    padding: 0 !important; /* 确保内边距不影响居中计算 */
    width: 100%; /* 确保宽度撑满，居中基准是父容器 */
}

/* 深色模式适配 */
[data-theme="dark"] .muted-center-compact {
    color: #b0b0b0 !important;
}

/* 为单篇文章设置更大的字号和段落首行缩进 */
.article-larger-font {
    font-size: 16px;   /* 正文基础字号，可按需调整 */
    line-height: 1.8;  /* 行高，提升阅读舒适度 */
}

/* 文章内的普通段落：首行缩进2字符 + 段后间距 */
.article-larger-font p {
    text-indent: 2em;  /* 首行缩进两个汉字字符的宽度 */
    margin: 0 0 1em 0; /* 段落下边距，让段落之间更清晰（可选） */
}

/* 以下元素不需要缩进，故重置为0 */
.article-larger-font h1,
.article-larger-font h2,
.article-larger-font h3,
.article-larger-font h4,
.article-larger-font h5,
.article-larger-font h6,
.article-larger-font blockquote,
.article-larger-font pre,
.article-larger-font ul,
.article-larger-font ol,
.article-larger-font figure,
.article-larger-font img,
.article-larger-font .footnote,
.article-larger-font .small-text {   /* 你之前提到的特殊元素 */
    text-indent: 0 !important;       /* 确保不缩进，!important 仅为保险，通常不需要 */
}

/* ========== 右侧浮动“长提示框”样式 ========== */
/* 适用于 .tip-long 元素添加 .float-right 类，使其浮动在右侧 */
@media screen and (min-width: 768px) {
    #post blockquote.tip-long.float-right,
    .post-content blockquote.tip-long.float-right {
        float: right;
        clear: right;
        width: 280px; /* 可根据需要调整宽度 */
        margin: 5px 0 20px 30px !important; /* 上、右、下、左 */
        padding: 15px; /* 适应窄栏的紧凑内边距 */
        font-size: 0.9em; /* 稍微缩小字体 */
        box-sizing: border-box;
        /* 边框和背景色由 .tip-long 本身提供，无需重复 */
    }
    /* 触发父容器 BFC 以包含浮动 */
    #post,
    .post-content {
        overflow: auto;
    }
}

@media screen and (max-width: 767px) {
    #post blockquote.tip-long.float-right,
    .post-content blockquote.tip-long.float-right {
        float: none;
        width: auto;
        margin: 20px 0 !important; /* 恢复为上下外边距 */
        padding: 20px 25px; /* 恢复 .tip-long 的原始内边距 */
    }
}

/* ========== 透明背景引用块 ========== */
/* 左边框使用 #88bfcc，背景完全透明，适用于需要融入页面背景的场景 */
#post blockquote.transparent,
.post-content blockquote.transparent {
    border-left: 5px solid #88bfcc;   /* 侧边颜色 */
    background-color: transparent;     /* 完全透明背景 */
    border-radius: 8px;                /* 圆角 */
    padding: 20px 25px;                /* 舒适内边距 */
    margin: 20px 0;                    /* 上下外边距 */
    color: #333;                        /* 深色文字，确保浅色背景下可读 */
    font-style: normal;                 /* 保持正体 */
}

/* 深色模式适配 */
[data-theme="dark"] #post blockquote.transparent,
[data-theme="dark"] .post-content blockquote.transparent {
    border-left-color: #b0e0ff;        /* 深色模式下边框稍亮，保持可见性 */
    color: #ccc;                        /* 文字颜色调整为浅色，适配深色背景 */
}